<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pessoas - Sistema de Emissão de Passagens</title>

    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container-fluid">
            <a class="navbar-brand" href="index.html">
                <i class="bi bi-airplane-fill me-2"></i>
                VoeComKennedy
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">
                            <i class="bi bi-house-fill"></i> Dashboard
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="vendas.html">
                            <i class="bi bi-cart-fill"></i> Vendas
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="pessoas.html">
                            <i class="bi bi-people-fill"></i> Pessoas
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="checkin.html">
                            <i class="bi bi-clock-fill"></i> Check-in
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="backup.html">
                            <i class="bi bi-cloud-arrow-down-fill"></i> Backup
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container-fluid py-4">
        <div class="row mb-4">
            <div class="col-12">
                <h2><i class="bi bi-people-fill me-2"></i>Gerenciamento de Pessoas</h2>
                <p class="text-muted">Cadastre clientes, passageiros e fornecedores</p>
            </div>
        </div>

        <!-- Botão Nova Pessoa -->
        <div class="row mb-4">
            <div class="col-12">
                <button class="btn btn-primary btn-lg" onclick="abrirModalPessoa()">
                    <i class="bi bi-person-plus me-2"></i>Nova Pessoa
                </button>
            </div>
        </div>

        <!-- Filtros -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-4 mb-2">
                                <label class="form-label">Buscar</label>
                                <input type="text" class="form-control" id="busca" placeholder="Nome, CPF, email...">
                            </div>
                            <div class="col-md-3 mb-2">
                                <label class="form-label">Tipo</label>
                                <select class="form-select" id="filtroTipo" onchange="aplicarFiltros()">
                                    <option value="todos">Todos</option>
                                    <option value="cliente">Clientes</option>
                                    <option value="passageiro">Passageiros</option>
                                    <option value="fornecedor">Fornecedores</option>
                                </select>
                            </div>
                            <div class="col-md-3 mb-2">
                                <label class="form-label">Ordenar por</label>
                                <select class="form-select" id="ordenacao" onchange="aplicarFiltros()">
                                    <option value="nome_asc">Nome (A-Z)</option>
                                    <option value="nome_desc">Nome (Z-A)</option>
                                    <option value="data_desc">Cadastro (mais recente)</option>
                                </select>
                            </div>
                            <div class="col-md-2 mb-2">
                                <label class="form-label">&nbsp;</label>
                                <button class="btn btn-secondary w-100" onclick="limparFiltros()">
                                    <i class="bi bi-x-circle me-1"></i>Limpar
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Cards de Pessoas -->
        <div class="row" id="cardsPessoas">
            <div class="col-12">
                <div class="empty-state">
                    <i class="bi bi-people"></i>
                    <p>Nenhuma pessoa cadastrada. Clique em "Nova Pessoa" para começar.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Cadastro/Edição -->
    <div class="modal fade" id="modalPessoa" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="tituloModal">
                        <i class="bi bi-person-plus me-2"></i>Nova Pessoa
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="formPessoa">
                        <input type="hidden" id="pessoaId">

                        <!-- Tipo de Pessoa -->
                        <div class="row mb-4">
                            <div class="col-12">
                                <label class="form-label">Tipo de Cadastro *</label>
                                <select class="form-select" id="tipo" required onchange="alterarCamposPorTipo()">
                                    <option value="">Selecione o tipo</option>
                                    <option value="cliente">Cliente (quem paga/contrata)</option>
                                    <option value="passageiro">Passageiro (quem viaja)</option>
                                    <option value="fornecedor">Fornecedor (companhia/consolidadora)</option>
                                </select>
                            </div>
                        </div>

                        <!-- Campos Comuns -->
                        <div id="camposComuns" style="display: none;">
                            <h6 class="mb-3"><i class="bi bi-person me-2"></i>Dados Básicos</h6>

                            <div class="row">
                                <div class="col-md-12 mb-3">
                                    <label class="form-label">Nome Completo / Razão Social *</label>
                                    <input type="text" class="form-control" id="nome" required>
                                </div>
                            </div>

                            <!-- Campos para Cliente e Passageiro -->
                            <div id="camposPessoaFisica" style="display: none;">
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">CPF *</label>
                                        <input type="text" class="form-control" id="cpf" maxlength="14">
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">RG</label>
                                        <input type="text" class="form-control" id="rg">
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">Data de Nascimento</label>
                                        <input type="date" class="form-control" id="dataNascimento">
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">Email</label>
                                        <input type="email" class="form-control" id="email">
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">Telefone *</label>
                                        <input type="text" class="form-control" id="telefone" maxlength="15">
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">Telefone 2</label>
                                        <input type="text" class="form-control" id="telefone2" maxlength="15">
                                    </div>
                                </div>

                                <!-- Dados do Passaporte (apenas para viagens internacionais) -->
                                <h6 class="mb-3 mt-4"><i class="bi bi-globe me-2"></i>Dados do Passaporte (Viagens Internacionais)</h6>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">Número do Passaporte</label>
                                        <input type="text" class="form-control" id="passaporteNumero">
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">País Emissor</label>
                                        <input type="text" class="form-control" id="passaportePais" placeholder="Ex: Brasil">
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">Data de Emissão</label>
                                        <input type="date" class="form-control" id="passaporteEmissao">
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">Data de Validade</label>
                                        <input type="date" class="form-control" id="passaporteValidade">
                                    </div>
                                </div>

                                <!-- Endereço -->
                                <h6 class="mb-3 mt-4"><i class="bi bi-geo-alt me-2"></i>Endereço</h6>
                                <div class="row">
                                    <div class="col-md-8 mb-3">
                                        <label class="form-label">Endereço</label>
                                        <input type="text" class="form-control" id="endereco">
                                    </div>
                                    <div class="col-md-4 mb-3">
                                        <label class="form-label">CEP</label>
                                        <input type="text" class="form-control" id="cep" maxlength="9">
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">Cidade</label>
                                        <input type="text" class="form-control" id="cidade">
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">Estado</label>
                                        <select class="form-select" id="estado">
                                            <option value="">Selecione</option>
                                            <option value="AC">Acre</option>
                                            <option value="AL">Alagoas</option>
                                            <option value="AP">Amapá</option>
                                            <option value="AM">Amazonas</option>
                                            <option value="BA">Bahia</option>
                                            <option value="CE">Ceará</option>
                                            <option value="DF">Distrito Federal</option>
                                            <option value="ES">Espírito Santo</option>
                                            <option value="GO">Goiás</option>
                                            <option value="MA">Maranhão</option>
                                            <option value="MT">Mato Grosso</option>
                                            <option value="MS">Mato Grosso do Sul</option>
                                            <option value="MG">Minas Gerais</option>
                                            <option value="PA">Pará</option>
                                            <option value="PB">Paraíba</option>
                                            <option value="PR">Paraná</option>
                                            <option value="PE">Pernambuco</option>
                                            <option value="PI">Piauí</option>
                                            <option value="RJ">Rio de Janeiro</option>
                                            <option value="RN">Rio Grande do Norte</option>
                                            <option value="RS">Rio Grande do Sul</option>
                                            <option value="RO">Rondônia</option>
                                            <option value="RR">Roraima</option>
                                            <option value="SC">Santa Catarina</option>
                                            <option value="SP">São Paulo</option>
                                            <option value="SE">Sergipe</option>
                                            <option value="TO">Tocantins</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <!-- Campos para Fornecedor -->
                            <div id="camposFornecedor" style="display: none;">
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">CNPJ</label>
                                        <input type="text" class="form-control" id="cnpj" maxlength="18">
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">Código IATA</label>
                                        <input type="text" class="form-control" id="codigoIATA" maxlength="3" placeholder="Ex: LA, G3, AD">
                                    </div>
                                </div>

                                <h6 class="mb-3 mt-4"><i class="bi bi-envelope me-2"></i>Contato</h6>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">Email</label>
                                        <input type="email" class="form-control" id="emailFornecedor">
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">Telefone</label>
                                        <input type="text" class="form-control" id="telefoneFornecedor" maxlength="15">
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-12 mb-3">
                                        <label class="form-label">Site</label>
                                        <input type="url" class="form-control" id="site" placeholder="https://www.exemplo.com">
                                    </div>
                                </div>
                            </div>

                            <!-- Observações (para todos) -->
                            <div class="row mt-4">
                                <div class="col-12 mb-3">
                                    <label class="form-label">Observações</label>
                                    <textarea class="form-control" id="observacoes" rows="3"></textarea>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" onclick="salvarPessoa()">
                        <i class="bi bi-save me-2"></i>Salvar
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Custom JS -->
    <script src="js/storage.js"></script>
    <script src="js/utils.js"></script>

    <script>
        let modalPessoa;
        let pessoaEditandoId = null;

        // Inicializar
        document.addEventListener('DOMContentLoaded', () => {
            modalPessoa = new bootstrap.Modal(document.getElementById('modalPessoa'));
            carregarPessoas();

            // Máscaras
            document.getElementById('cpf').addEventListener('input', function() {
                Utils.aplicarMascaraCPF(this);
            });

            document.getElementById('telefone').addEventListener('input', function() {
                Utils.aplicarMascaraTelefone(this);
            });

            document.getElementById('telefone2').addEventListener('input', function() {
                Utils.aplicarMascaraTelefone(this);
            });

            document.getElementById('telefoneFornecedor').addEventListener('input', function() {
                Utils.aplicarMascaraTelefone(this);
            });

            document.getElementById('cnpj').addEventListener('input', function() {
                let valor = this.value.replace(/\D/g, '');
                valor = valor.substring(0, 14);
                valor = valor.replace(/(\d{2})(\d)/, '$1.$2');
                valor = valor.replace(/(\d{3})(\d)/, '$1.$2');
                valor = valor.replace(/(\d{3})(\d)/, '$1/$2');
                valor = valor.replace(/(\d{4})(\d)/, '$1-$2');
                this.value = valor;
            });

            // Busca
            document.getElementById('busca').addEventListener('input', aplicarFiltros);
        });

        // Alterar campos baseado no tipo
        function alterarCamposPorTipo() {
            const tipo = document.getElementById('tipo').value;
            const camposComuns = document.getElementById('camposComuns');
            const camposPessoaFisica = document.getElementById('camposPessoaFisica');
            const camposFornecedor = document.getElementById('camposFornecedor');

            if (!tipo) {
                camposComuns.style.display = 'none';
                return;
            }

            camposComuns.style.display = 'block';

            if (tipo === 'cliente' || tipo === 'passageiro') {
                camposPessoaFisica.style.display = 'block';
                camposFornecedor.style.display = 'none';
            } else if (tipo === 'fornecedor') {
                camposPessoaFisica.style.display = 'none';
                camposFornecedor.style.display = 'block';
            }
        }

        // Abrir modal
        function abrirModalPessoa(pessoaId = null) {
            pessoaEditandoId = pessoaId;

            if (pessoaId) {
                const pessoa = StorageManager.getPessoaById(pessoaId);
                if (!pessoa) return;

                document.getElementById('tituloModal').innerHTML = '<i class="bi bi-pencil me-2"></i>Editar Pessoa';
                document.getElementById('pessoaId').value = pessoa.id;
                document.getElementById('tipo').value = pessoa.tipo;
                alterarCamposPorTipo();

                document.getElementById('nome').value = pessoa.nome;

                if (pessoa.tipo === 'cliente' || pessoa.tipo === 'passageiro') {
                    document.getElementById('cpf').value = pessoa.cpf || '';
                    document.getElementById('rg').value = pessoa.rg || '';
                    document.getElementById('dataNascimento').value = pessoa.dataNascimento || '';
                    document.getElementById('email').value = pessoa.email || '';
                    document.getElementById('telefone').value = pessoa.telefone || '';
                    document.getElementById('telefone2').value = pessoa.telefone2 || '';
                    document.getElementById('passaporteNumero').value = pessoa.passaporteNumero || '';
                    document.getElementById('passaportePais').value = pessoa.passaportePais || '';
                    document.getElementById('passaporteEmissao').value = pessoa.passaporteEmissao || '';
                    document.getElementById('passaporteValidade').value = pessoa.passaporteValidade || '';
                    document.getElementById('endereco').value = pessoa.endereco || '';
                    document.getElementById('cep').value = pessoa.cep || '';
                    document.getElementById('cidade').value = pessoa.cidade || '';
                    document.getElementById('estado').value = pessoa.estado || '';
                } else if (pessoa.tipo === 'fornecedor') {
                    document.getElementById('cnpj').value = pessoa.cnpj || '';
                    document.getElementById('codigoIATA').value = pessoa.codigoIATA || '';
                    document.getElementById('emailFornecedor').value = pessoa.email || '';
                    document.getElementById('telefoneFornecedor').value = pessoa.telefone || '';
                    document.getElementById('site').value = pessoa.site || '';
                }

                document.getElementById('observacoes').value = pessoa.observacoes || '';
            } else {
                document.getElementById('tituloModal').innerHTML = '<i class="bi bi-person-plus me-2"></i>Nova Pessoa';
                document.getElementById('formPessoa').reset();
                document.getElementById('pessoaId').value = '';
                document.getElementById('camposComuns').style.display = 'none';
            }

            modalPessoa.show();
        }

        // Salvar pessoa
        function salvarPessoa() {
            const form = document.getElementById('formPessoa');
            if (!form.checkValidity()) {
                form.reportValidity();
                return;
            }

            const tipo = document.getElementById('tipo').value;
            const pessoa = {
                tipo: tipo,
                nome: document.getElementById('nome').value
            };

            if (tipo === 'cliente' || tipo === 'passageiro') {
                const cpf = document.getElementById('cpf').value;
                if (cpf && !Utils.validarCPF(cpf)) {
                    alert('CPF inválido!');
                    return;
                }

                pessoa.cpf = cpf;
                pessoa.rg = document.getElementById('rg').value;
                pessoa.dataNascimento = document.getElementById('dataNascimento').value;
                pessoa.email = document.getElementById('email').value;
                pessoa.telefone = document.getElementById('telefone').value;
                pessoa.telefone2 = document.getElementById('telefone2').value;
                pessoa.passaporteNumero = document.getElementById('passaporteNumero').value;
                pessoa.passaportePais = document.getElementById('passaportePais').value;
                pessoa.passaporteEmissao = document.getElementById('passaporteEmissao').value;
                pessoa.passaporteValidade = document.getElementById('passaporteValidade').value;
                pessoa.endereco = document.getElementById('endereco').value;
                pessoa.cep = document.getElementById('cep').value;
                pessoa.cidade = document.getElementById('cidade').value;
                pessoa.estado = document.getElementById('estado').value;
            } else if (tipo === 'fornecedor') {
                pessoa.cnpj = document.getElementById('cnpj').value;
                pessoa.codigoIATA = document.getElementById('codigoIATA').value.toUpperCase();
                pessoa.email = document.getElementById('emailFornecedor').value;
                pessoa.telefone = document.getElementById('telefoneFornecedor').value;
                pessoa.site = document.getElementById('site').value;
            }

            pessoa.observacoes = document.getElementById('observacoes').value;

            if (pessoaEditandoId) {
                StorageManager.updatePessoa(pessoaEditandoId, pessoa);
                Utils.showSuccess('Pessoa atualizada com sucesso!');
            } else {
                StorageManager.addPessoa(pessoa);
                Utils.showSuccess('Pessoa cadastrada com sucesso!');
            }

            modalPessoa.hide();
            carregarPessoas();
        }

        // Excluir pessoa
        function excluirPessoa(id) {
            const pessoa = StorageManager.getPessoaById(id);

            // Verificar se é cliente com vendas
            if (pessoa.tipo === 'cliente') {
                const vendas = StorageManager.getVendas();
                const temVendas = vendas.some(v => v.clienteId === id);
                if (temVendas) {
                    alert('Este cliente possui vendas vinculadas e não pode ser excluído!');
                    return;
                }
            }

            if (!Utils.confirm('Tem certeza que deseja excluir esta pessoa?')) return;

            if (StorageManager.deletePessoa(id)) {
                Utils.showSuccess('Pessoa excluída com sucesso!');
                carregarPessoas();
            }
        }

        // Carregar pessoas
        function carregarPessoas() {
            aplicarFiltros();
        }

        // Aplicar filtros
        function aplicarFiltros() {
            let pessoas = StorageManager.getPessoas();

            // Filtro de busca
            const busca = document.getElementById('busca').value;
            if (busca) {
                pessoas = Utils.filtrarPorTexto(pessoas, busca, ['nome', 'cpf', 'email', 'telefone', 'cnpj']);
            }

            // Filtro de tipo
            const tipo = document.getElementById('filtroTipo').value;
            if (tipo !== 'todos') {
                pessoas = pessoas.filter(p => p.tipo === tipo);
            }

            // Ordenação
            const ordenacao = document.getElementById('ordenacao').value;
            switch(ordenacao) {
                case 'nome_asc':
                    pessoas = Utils.ordenarPorNome(pessoas, 'nome', 'asc');
                    break;
                case 'nome_desc':
                    pessoas = Utils.ordenarPorNome(pessoas, 'nome', 'desc');
                    break;
                case 'data_desc':
                    pessoas = Utils.ordenarPorData(pessoas, 'dataCadastro', 'desc');
                    break;
            }

            exibirPessoas(pessoas);
        }

        // Exibir pessoas
        function exibirPessoas(pessoas) {
            const container = document.getElementById('cardsPessoas');

            if (pessoas.length === 0) {
                container.innerHTML = `
                    <div class="col-12">
                        <div class="empty-state">
                            <i class="bi bi-people"></i>
                            <p>Nenhuma pessoa encontrada.</p>
                        </div>
                    </div>
                `;
                return;
            }

            const tipoLabels = {
                'cliente': 'Cliente',
                'passageiro': 'Passageiro',
                'fornecedor': 'Fornecedor'
            };

            const tipoIcons = {
                'cliente': 'bi-person-circle',
                'passageiro': 'bi-person-badge',
                'fornecedor': 'bi-building'
            };

            const tipoBadges = {
                'cliente': 'bg-primary',
                'passageiro': 'bg-success',
                'fornecedor': 'bg-info'
            };

            let html = '';
            pessoas.forEach(pessoa => {
                const icon = tipoIcons[pessoa.tipo] || 'bi-person';
                const badge = tipoBadges[pessoa.tipo] || 'bg-secondary';
                const tipoLabel = tipoLabels[pessoa.tipo] || 'Outro';

                html += `
                    <div class="col-md-6 col-lg-4 mb-3">
                        <div class="card h-100">
                            <div class="card-body">
                                <div class="d-flex justify-content-between align-items-start mb-3">
                                    <h5 class="card-title mb-0">
                                        <i class="bi ${icon} me-2 text-primary"></i>
                                        ${pessoa.nome}
                                    </h5>
                                    <span class="badge ${badge}">${tipoLabel}</span>
                                </div>
                                <hr>

                                ${pessoa.cpf ? `
                                    <p class="card-text mb-2">
                                        <strong><i class="bi bi-credit-card me-2"></i>CPF:</strong>
                                        ${Utils.formatCPF(pessoa.cpf)}
                                    </p>
                                ` : ''}

                                ${pessoa.cnpj ? `
                                    <p class="card-text mb-2">
                                        <strong><i class="bi bi-card-text me-2"></i>CNPJ:</strong>
                                        ${pessoa.cnpj}
                                    </p>
                                ` : ''}

                                ${pessoa.codigoIATA ? `
                                    <p class="card-text mb-2">
                                        <strong><i class="bi bi-tag me-2"></i>IATA:</strong>
                                        <span class="badge bg-dark">${pessoa.codigoIATA}</span>
                                    </p>
                                ` : ''}

                                ${pessoa.email ? `
                                    <p class="card-text mb-2">
                                        <strong><i class="bi bi-envelope me-2"></i>Email:</strong>
                                        ${pessoa.email}
                                    </p>
                                ` : ''}

                                ${pessoa.telefone ? `
                                    <p class="card-text mb-2">
                                        <strong><i class="bi bi-telephone me-2"></i>Telefone:</strong>
                                        ${Utils.formatPhone(pessoa.telefone)}
                                    </p>
                                ` : ''}

                                ${pessoa.passaporteNumero ? `
                                    <p class="card-text mb-2">
                                        <strong><i class="bi bi-globe me-2"></i>Passaporte:</strong>
                                        ${pessoa.passaporteNumero}
                                    </p>
                                ` : ''}

                                ${pessoa.observacoes ? `
                                    <p class="card-text mb-2">
                                        <small class="text-muted">${pessoa.observacoes}</small>
                                    </p>
                                ` : ''}
                            </div>
                            <div class="card-footer bg-transparent">
                                <button class="btn btn-sm btn-primary" onclick="abrirModalPessoa('${pessoa.id}')">
                                    <i class="bi bi-pencil me-1"></i>Editar
                                </button>
                                <button class="btn btn-sm btn-danger" onclick="excluirPessoa('${pessoa.id}')">
                                    <i class="bi bi-trash me-1"></i>Excluir
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            });

            container.innerHTML = html;
        }

        // Limpar filtros
        function limparFiltros() {
            document.getElementById('busca').value = '';
            document.getElementById('filtroTipo').value = 'todos';
            document.getElementById('ordenacao').value = 'nome_asc';
            carregarPessoas();
        }
    </script>
</body>
</html>
